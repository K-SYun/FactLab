<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹ ê³ í•˜ê¸° - FactLab</title>
    <link rel="stylesheet" href="Common.css">
    <link rel="stylesheet" href="News.css">
    <style>
        /* report.html ì „ìš© ìŠ¤íƒ€ì¼ */
        /* Common.cssì™€ News.cssì— ì—†ëŠ”, ì´ í˜ì´ì§€ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ìŠ¤íƒ€ì¼ ì •ì˜ */

        .news-report-container {
            max-width: 800px;
            margin: 20px auto; /* í—¤ë” ì•„ë˜ ì—¬ë°± */
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 0.375rem; /* rounded-md */
            overflow: hidden; /* ë‚´ë¶€ ìš”ì†Œì˜ ë‘¥ê·¼ ëª¨ì„œë¦¬ ìœ ì§€ */
            padding: 20px;
        }
        
        .news-report-form-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .news-report-form-section:last-of-type {
            border-bottom: none;
            padding-bottom: 0;
            margin-bottom: 0;
        }
        
        .news-report-section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            border-bottom: 2px solid #dc3545; /* ì‹ ê³  í˜ì´ì§€ ê°•ì¡°ìƒ‰ */
            padding-bottom: 5px;
        }
        
        .news-report-form-group {
            margin-bottom: 15px;
        }
        
        .news-report-form-label {
            display: block;
            font-size: 12px;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .news-report-form-select,
        .news-report-form-input,
        .news-report-textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            font-size: 12px;
            font-family: inherit;
            border-radius: 0.375rem; /* rounded-md */
        }

        .news-report-form-select:focus,
        .news-report-form-input:focus,
        .news-report-textarea:focus {
            outline: none;
            border-color: #0066cc;
        }
        
        .news-report-textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .news-report-radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 5px;
        }
        
        .news-report-radio-item {
            flex: 1 1 auto; /* ìœ ì—°í•˜ê²Œ ê³µê°„ ì°¨ì§€ */
            min-width: 120px;
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 0.375rem; /* rounded-md */
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
        }
        
        .news-report-radio-item:hover {
            background-color: #e8e8e8;
        }
        
        .news-report-radio-item input[type="radio"] {
            margin: 0;
            flex-shrink: 0;
        }

        .news-report-radio-item input[type="radio"]:checked + span {
            font-weight: bold;
            color: #0066cc;
        }
        
        .news-report-target-info {
            background-color: #f0f8ff;
            border: 1px solid #0066cc;
            padding: 15px;
            border-radius: 0.375rem; /* rounded-md */
            margin-top: 15px;
            font-size: 12px;
            line-height: 1.4;
        }

        .news-report-file-upload-area {
            border: 1px dashed #ccc;
            padding: 20px;
            text-align: center;
            background-color: #fafafa;
            cursor: pointer;
            border-radius: 0.375rem; /* rounded-md */
            margin-top: 15px;
            transition: background-color 0.2s ease, border-color 0.2s ease;
        }

        .news-report-file-upload-area:hover {
            background-color: #f0f0f0;
            border-color: #999;
        }

        .news-report-file-upload-area p {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }

        .news-report-file-upload-area strong {
            color: #0066cc;
        }

        .news-report-uploaded-files {
            margin-top: 15px;
        }

        .news-report-uploaded-file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #e6f3ff;
            border: 1px solid #0066cc;
            padding: 8px 12px;
            margin-bottom: 8px;
            border-radius: 0.375rem; /* rounded-md */
            font-size: 11px;
        }

        .news-report-uploaded-file-item span {
            flex-grow: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .news-report-uploaded-file-item .news-btn-danger {
            padding: 4px 8px;
            font-size: 10px;
            margin-left: 10px;
        }
        
        .news-report-button-group {
            text-align: right;
            margin-top: 20px;
        }
        
        .news-report-button-group .news-btn {
            margin-left: 10px;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .news-report-container {
                margin: 10px;
                padding: 15px;
            }

            .news-report-section-title {
                font-size: 15px;
                margin-bottom: 10px;
            }

            .news-report-radio-group {
                flex-direction: column;
                gap: 8px;
            }

            .news-report-radio-item {
                min-width: unset;
                width: 100%;
            }

            .news-report-button-group {
                text-align: center;
            }

            .news-report-button-group .news-btn {
                margin: 5px 0;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="news-header">
        <div class="news-header-content news-container">
            <a href="factlab_main.html" class="news-logo">FactLab</a>
            <nav class="news-nav-menu">
                <ul>
                    <li><a href="factlab_main.html">í™ˆ</a></li>
                    <li><a href="factlab_board_list.html">ê²Œì‹œíŒ</a></li>
                    <li><a href="factlab_news_feed.html">ë‰´ìŠ¤</a></li>
                    <li><a href="factlab_mypage.html">ë§ˆì´í˜ì´ì§€</a></li>
                    <li><a href="factlab_report.html" class="active">ì‹ ê³ í•˜ê¸°</a></li>
                    <li><a href="factlab_login.html">ë¡œê·¸ì¸</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <div class="news-report-container news-container">
        <div class="news-page-header">
            <div class="news-page-header-title">ğŸš¨ ì‹ ê³ í•˜ê¸°</div>
            <div class="news-page-header-subtitle">FactLabì˜ ê±´ì „í•œ ì»¤ë®¤ë‹ˆí‹°ë¥¼ ìœ„í•´ ë¶€ì ì ˆí•œ ë‚´ìš©ì„ ì‹ ê³ í•´ì£¼ì„¸ìš”.</div>
        </div>
        
        <form id="reportForm" onsubmit="return submitReport()">
            <!-- ì‹ ê³  ìœ í˜• ì„ íƒ -->
            <div class="news-report-form-section">
                <div class="news-report-section-title">1. ì‹ ê³  ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
                <div class="news-report-form-group">
                    <label class="news-report-form-label">ì‹ ê³  ëŒ€ìƒ</label>
                    <div class="news-report-radio-group">
                        <label class="news-report-radio-item">
                            <input type="radio" name="targetType" value="post" onchange="showTargetInfo()">
                            <span>ê²Œì‹œê¸€</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="targetType" value="comment" onchange="showTargetInfo()">
                            <span>ëŒ“ê¸€</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="targetType" value="user" onchange="showTargetInfo()">
                            <span>ì‚¬ìš©ì</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="targetType" value="news" onchange="showTargetInfo()">
                            <span>ë‰´ìŠ¤/íŒ©íŠ¸ì²´í¬</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="targetType" value="other" onchange="showTargetInfo()">
                            <span>ê¸°íƒ€</span>
                        </label>
                    </div>
                </div>
                
                <div class="news-report-form-group" id="targetInfo" style="display: none;">
                    <label class="news-report-form-label">ì‹ ê³  ëŒ€ìƒ URL ë˜ëŠ” ID</label>
                    <input type="text" class="news-report-form-input" name="targetUrl" placeholder="ì˜ˆ: ê²Œì‹œê¸€ URL ë˜ëŠ” ëŒ“ê¸€ ID">
                    <div style="font-size: 10px; color: #999; margin-top: 5px;">
                        ì •í™•í•œ ì‹ ê³  ì²˜ë¦¬ë¥¼ ìœ„í•´ ì‹ ê³  ëŒ€ìƒì˜ ë§í¬ ë˜ëŠ” ê³ ìœ  IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
                    </div>
                </div>
            </div>
            
            <!-- ì‹ ê³  ì‚¬ìœ  ì„ íƒ -->
            <div class="news-report-form-section">
                <div class="news-report-section-title">2. ì‹ ê³  ì‚¬ìœ ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
                <div class="news-report-form-group">
                    <div class="news-report-radio-group">
                        <label class="news-report-radio-item">
                            <input type="radio" name="reason" value="spam">
                            <span>ìŠ¤íŒ¸/í™ë³´</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="reason" value="hate_speech">
                            <span>í˜ì˜¤/ì°¨ë³„ í‘œí˜„</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="reason" value="personal_attack">
                            <span>ìš•ì„¤/ì¸ì‹ ê³µê²©</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="reason" value="false_info">
                            <span>í—ˆìœ„ ì‚¬ì‹¤ ìœ í¬</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="reason" value="privacy_violation">
                            <span>ê°œì¸ì •ë³´ ì¹¨í•´</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="reason" value="sexual_content">
                            <span>ìŒë€ë¬¼/ë¶ˆë²• ì •ë³´</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="reason" value="copyright">
                            <span>ì €ì‘ê¶Œ ì¹¨í•´</span>
                        </label>
                        <label class="news-report-radio-item">
                            <input type="radio" name="reason" value="other_reason">
                            <span>ê¸°íƒ€</span>
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- ìƒì„¸ ì„¤ëª… ë° ì²¨ë¶€íŒŒì¼ -->
            <div class="news-report-form-section">
                <div class="news-report-section-title">3. ìƒì„¸ ì„¤ëª… ë° ì²¨ë¶€íŒŒì¼</div>
                <div class="news-report-form-group">
                    <label class="news-report-form-label">ìƒì„¸ ì„¤ëª… (ìµœì†Œ 20ì)</label>
                    <textarea class="news-report-textarea" name="description" placeholder="ì‹ ê³  ë‚´ìš©ì„ ìì„¸íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”."></textarea>
                </div>
                
                <div class="news-report-form-group">
                    <label class="news-report-form-label">ì²¨ë¶€ íŒŒì¼ (ì„ íƒ, ìµœëŒ€ 3ê°œ)</label>
                    <div class="news-report-file-upload-area" onclick="document.getElementById('fileInput').click()">
                        <p>ì—¬ê¸°ë¥¼ í´ë¦­í•˜ê±°ë‚˜ íŒŒì¼ì„ ë“œë˜ê·¸í•˜ì—¬ ì²¨ë¶€í•˜ì„¸ìš”.</p>
                        <strong>JPG, PNG, GIF (ìµœëŒ€ 5MB)</strong>
                        <input type="file" id="fileInput" multiple accept="image/jpeg,image/png,image/gif" style="display: none;" onchange="handleFiles(this.files)">
                    </div>
                    <div class="news-report-uploaded-files" id="uploadedFiles">
                        <!-- Uploaded files will be listed here -->
                    </div>
                </div>
            </div>
            
            <div class="news-report-button-group">
                <button type="button" class="news-btn" onclick="resetForm()">ì´ˆê¸°í™”</button>
                <button type="button" class="news-btn" onclick="goBack()">ì·¨ì†Œ</button>
                <button type="submit" class="news-btn news-btn-primary">ì‹ ê³ í•˜ê¸°</button>
            </div>
        </form>
    </div>

    <!-- Footer -->
    <footer class="news-footer">
        <div class="news-footer-content news-container">
            <div class="news-footer-links">
                <a href="factlab_about.html">íšŒì‚¬ì†Œê°œ</a>
                <a href="#">ì´ìš©ì•½ê´€</a>
                <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a href="#">ê´‘ê³ ë¬¸ì˜</a>
                <a href="#">ê³ ê°ì„¼í„°</a>
                <a href="#">ì œíœ´ë¬¸ì˜</a>
            </div>
            <div class="news-footer-info">
                <div>FactLab | ëŒ€í‘œ: FactLab | ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 123-45-67890</div>
                <div>ì£¼ì†Œ: ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123, FactLabë¹Œë”© | ì´ë©”ì¼: contact@factlab.com</div>
                <div>Copyright Â© 2024 FactLab. All rights reserved.</div>
            </div>
        </div>
    </footer>

    <script>
        let uploadedFiles = []; // ì²¨ë¶€ëœ íŒŒì¼ ëª©ë¡

        // ì‹ ê³  ëŒ€ìƒ ì •ë³´ ì…ë ¥ í•„ë“œ í‘œì‹œ/ìˆ¨ê¹€
        function showTargetInfo() {
            const targetType = document.querySelector('input[name="targetType"]:checked');
            const targetInfoDiv = document.getElementById('targetInfo');
            if (targetType && targetType.value !== 'other') {
                targetInfoDiv.style.display = 'block';
                document.querySelector('[name="targetUrl"]').placeholder = 
                    targetType.value === 'post' ? 'ê²Œì‹œê¸€ URL ë˜ëŠ” ID' :
                    targetType.value === 'comment' ? 'ëŒ“ê¸€ ID (ì˜ˆ: #comment-123)' :
                    targetType.value === 'user' ? 'ì‚¬ìš©ì ë‹‰ë„¤ì„ ë˜ëŠ” ID' :
                    targetType.value === 'news' ? 'ë‰´ìŠ¤ URL ë˜ëŠ” ID' : '';
            } else {
                targetInfoDiv.style.display = 'none';
                document.querySelector('[name="targetUrl"]').value = '';
            }
        }

        // íŒŒì¼ ì²¨ë¶€ ì²˜ë¦¬
        function handleFiles(files) {
            const uploadedFilesDiv = document.getElementById('uploadedFiles');
            uploadedFilesDiv.innerHTML = ''; // ê¸°ì¡´ ëª©ë¡ ì´ˆê¸°í™”
            uploadedFiles = []; // ê¸°ì¡´ íŒŒì¼ ëª©ë¡ ì´ˆê¸°í™”

            Array.from(files).forEach(file => {
                if (uploadedFiles.length >= 3) {
                    console.log('íŒŒì¼ì€ ìµœëŒ€ 3ê°œê¹Œì§€ ì²¨ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'); // alert ëŒ€ì‹  console.log
                    return;
                }
                if (file.size > 5 * 1024 * 1024) { // 5MB ì œí•œ
                    console.log(`${file.name}ì€(ëŠ”) 5MBë¥¼ ì´ˆê³¼í•˜ì—¬ ì²¨ë¶€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`); // alert ëŒ€ì‹  console.log
                    return;
                }
                uploadedFiles.push(file);
            });

            renderUploadedFiles();
        }

        // ì²¨ë¶€ëœ íŒŒì¼ ëª©ë¡ ë Œë”ë§
        function renderUploadedFiles() {
            const uploadedFilesDiv = document.getElementById('uploadedFiles');
            uploadedFilesDiv.innerHTML = '';
            uploadedFiles.forEach((file, index) => {
                const fileItem = document.createElement('div');
                fileItem.className = 'news-report-uploaded-file-item';
                fileItem.innerHTML = `
                    <span>${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)</span>
                    <button type="button" class="news-btn news-btn-danger" onclick="removeFile(${index})">ì‚­ì œ</button>
                `;
                uploadedFilesDiv.appendChild(fileItem);
            });
        }

        // ì²¨ë¶€ íŒŒì¼ ì‚­ì œ
        function removeFile(index) {
            uploadedFiles.splice(index, 1);
            renderUploadedFiles();
        }

        // ì‹ ê³  ì œì¶œ
        function submitReport() {
            const targetType = document.querySelector('input[name="targetType"]:checked')?.value;
            const targetUrl = document.querySelector('[name="targetUrl"]').value;
            const reason = document.querySelector('input[name="reason"]:checked')?.value;
            const description = document.querySelector('[name="description"]').value;
            
            if (!targetType) {
                console.log('ì‹ ê³  ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”.'); // alert ëŒ€ì‹  console.log
                return false;
            }
            
            if (targetType !== 'other' && !targetUrl.trim()) {
                console.log('ì‹ ê³  ëŒ€ìƒì˜ URL ë˜ëŠ” IDë¥¼ ì…ë ¥í•˜ì„¸ìš”.'); // alert ëŒ€ì‹  console.log
                return false;
            }
            
            if (!reason) {
                console.log('ì‹ ê³  ì‚¬ìœ ë¥¼ ì„ íƒí•˜ì„¸ìš”.'); // alert ëŒ€ì‹  console.log
                return false;
            }
            
            if (description.trim().length < 20) {
                console.log('ìƒì„¸ ì„¤ëª…ì„ 20ì ì´ìƒ ì…ë ¥í•˜ì„¸ìš”.'); // alert ëŒ€ì‹  console.log
                return false;
            }
            
            // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ì‹ ê³  ë°ì´í„° ì „ì†¡
            console.log('ì‹ ê³ ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.'); // alert ëŒ€ì‹  console.log
            console.log({ targetType, targetUrl, reason, description, uploadedFiles });
            
            // í¼ ì´ˆê¸°í™”
            document.getElementById('reportForm').reset();
            document.getElementById('targetInfo').style.display = 'none';
            document.getElementById('uploadedFiles').innerHTML = '';
            uploadedFiles = [];

            return false; // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ë°©ì§€
        }
        
        // í¼ ì´ˆê¸°í™”
        function resetForm() {
            if (confirm('ì…ë ¥í•œ ë‚´ìš©ì´ ëª¨ë‘ ì‚­ì œë©ë‹ˆë‹¤. ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                document.getElementById('reportForm').reset();
                document.getElementById('targetInfo').style.display = 'none';
                document.getElementById('uploadedFiles').innerHTML = '';
                uploadedFiles = [];
            }
        }
        
        // ì·¨ì†Œ
        function goBack() {
            if (confirm('ì‹ ê³  ì‘ì„±ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                window.history.back();
            }
        }
        
        // ë¼ë””ì˜¤ ë²„íŠ¼ í´ë¦­ ì²˜ë¦¬ (í…ìŠ¤íŠ¸ í´ë¦­ ì‹œ ë¼ë””ì˜¤ ë²„íŠ¼ ì„ íƒ)
        document.querySelectorAll('.news-report-radio-item').forEach(item => {
            item.addEventListener('click', function() {
                const radio = this.querySelector('input[type="radio"]');
                if (radio) {
                    radio.checked = true;
                    // ë¼ë””ì˜¤ ë²„íŠ¼ ë³€ê²½ ì´ë²¤íŠ¸ ìˆ˜ë™ íŠ¸ë¦¬ê±° (onchange í•¨ìˆ˜ í˜¸ì¶œ)
                    const event = new Event('change');
                    radio.dispatchEvent(event);
                }
            });
        });
    </script>
</body>
</html>
