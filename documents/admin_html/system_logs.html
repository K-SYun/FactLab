    <!-- 로그 통계 -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div class="stat-card blue rounded-lg p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-white/80 text-sm">오늘 로그</p>
                    <p class="text-2xl font-bold" id="todayLogs">24,567</p>
                    <p class="text-white/80 text-xs mt-1">
                        <i class="fas fa-file-alt mr-1"></i>
                        +8% 어제 대비
                    </p>
                </div>
                <div class="bg-white/20 p-3 rounded-full">
                    <i class="fas fa-list text-2xl"></i>
                </div>
            </div>
        </div>

        <div class="stat-card green rounded-lg p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-white/80 text-sm">정상 로그</p>
                    <p class="text-2xl font-bold" id="infoLogs">23,245</p>
                    <p class="text-white/80 text-xs mt-1">
                        <i class="fas fa-check-circle mr-1"></i>
                        94.6% 비율
                    </p>
                </div>
                <div class="bg-white/20 p-3 rounded-full">
                    <i class="fas fa-info-circle text-2xl"></i>
                </div>
            </div>
        </div>

        <div class="stat-card orange rounded-lg p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-white/80 text-sm">경고 로그</p>
                    <p class="text-2xl font-bold" id="warningLogs">1,189</p>
                    <p class="text-white/80 text-xs mt-1">
                        <i class="fas fa-exclamation-triangle mr-1"></i>
                        4.8% 비율
                    </p>
                </div>
                <div class="bg-white/20 p-3 rounded-full">
                    <i class="fas fa-exclamation-triangle text-2xl"></i>
                </div>
            </div>
        </div>

        <div class="stat-card purple rounded-lg p-6 text-white">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-white/80 text-sm">오류 로그</p>
                    <p class="text-2xl font-bold" id="errorLogs">133</p>
                    <p class="text-white/80 text-xs mt-1">
                        <i class="fas fa-times-circle mr-1"></i>
                        0.5% 비율
                    </p>
                </div>
                <div class="bg-white/20 p-3 rounded-full">
                    <i class="fas fa-times-circle text-2xl"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- 로그 필터링 및 검색 -->
    <div class="bg-white rounded-lg shadow-sm p-6 mb-8">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">로그 필터링 및 검색</h3>
        <div class="grid grid-cols-1 md:grid-cols-6 gap-4">
            <div class="md:col-span-2">
                <label class="form-label">검색어</label>
                <div class="relative">
                    <input type="text" id="logSearch" class="form-input pl-10" placeholder="로그 내용 검색...">
                    <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                </div>
            </div>
            
            <div>
                <label class="form-label">로그 레벨</label>
                <select id="logLevel" class="form-select">
                    <option value="">전체</option>
                    <option value="info">INFO</option>
                    <option value="warning">WARNING</option>
                    <option value="error">ERROR</option>
                    <option value="debug">DEBUG</option>
                </select>
            </div>
            
            <div>
                <label class="form-label">시스템</label>
                <select id="logSystem" class="form-select">
                    <option value="">전체</option>
                    <option value="web">웹 서버</option>
                    <option value="database">데이터베이스</option>
                    <option value="api">API 서버</option>
                    <option value="news">뉴스 수집</option>
                    <option value="ai">AI 처리</option>
                </select>
            </div>
            
            <div>
                <label class="form-label">시작 날짜</label>
                <input type="date" id="startDate" class="form-input" value="2024-01-15">
            </div>
            
            <div>
                <label class="form-label">종료 날짜</label>
                <input type="date" id="endDate" class="form-input" value="2024-01-15">
            </div>
        </div>
        
        <div class="flex justify-between items-center mt-4">
            <div class="flex space-x-2">
                <button class="btn-primary" onclick="searchLogs()">
                    <i class="fas fa-search mr-2"></i>검색
                </button>
                <button class="btn-secondary" onclick="clearFilters()">
                    <i class="fas fa-times mr-2"></i>필터 초기화
                </button>
                <button class="btn-secondary" onclick="exportLogs()">
                    <i class="fas fa-download mr-2"></i>로그 내보내기
                </button>
            </div>
            
            <div class="flex items-center space-x-2">
                <label class="flex items-center">
                    <input type="checkbox" id="autoRefresh" class="mr-2" checked>
                    <span class="text-sm">실시간 업데이트</span>
                </label>
                <button class="btn-secondary" onclick="refreshLogs()">
                    <i class="fas fa-sync mr-2"></i>새로고침
                </button>
            </div>
        </div>
    </div>

    <!-- 실시간 로그 뷰어 -->
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8">
        <!-- 로그 목록 -->
        <div class="lg:col-span-3 bg-white rounded-lg shadow-sm">
            <div class="px-6 py-4 border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-semibold text-gray-800">실시간 로그</h3>
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-gray-500">자동 스크롤</span>
                        <button class="bg-green-500 relative inline-flex h-5 w-9 items-center rounded-full">
                            <span class="translate-x-5 inline-block h-3 w-3 transform rounded-full bg-white transition"></span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="h-96 overflow-y-auto p-4 bg-gray-900 text-green-400 font-mono text-sm custom-scrollbar" id="logViewer">
                <div class="space-y-1">
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:45]</span>
                        <span class="text-green-400 ml-2">[INFO]</span>
                        <span class="text-yellow-400 ml-2">[WEB]</span>
                        <span class="text-white ml-2">User login successful - user_id: 12847</span>
                    </div>
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:42]</span>
                        <span class="text-green-400 ml-2">[INFO]</span>
                        <span class="text-purple-400 ml-2">[NEWS]</span>
                        <span class="text-white ml-2">News collection completed - 47 articles collected from Naver</span>
                    </div>
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:38]</span>
                        <span class="text-yellow-400 ml-2">[WARN]</span>
                        <span class="text-cyan-400 ml-2">[API]</span>
                        <span class="text-white ml-2">Rate limit approaching for client IP: 192.168.1.100 (85% of limit)</span>
                    </div>
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:35]</span>
                        <span class="text-green-400 ml-2">[INFO]</span>
                        <span class="text-orange-400 ml-2">[AI]</span>
                        <span class="text-white ml-2">AI summary generated for article ID: 15847 in 1.2s</span>
                    </div>
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:33]</span>
                        <span class="text-red-400 ml-2">[ERROR]</span>
                        <span class="text-yellow-400 ml-2">[DB]</span>
                        <span class="text-white ml-2">Connection timeout to database slave server (timeout: 30s)</span>
                    </div>
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:30]</span>
                        <span class="text-green-400 ml-2">[INFO]</span>
                        <span class="text-yellow-400 ml-2">[WEB]</span>
                        <span class="text-white ml-2">New board created: "환경 이슈 토론장" by user_id: 3456</span>
                    </div>
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:28]</span>
                        <span class="text-yellow-400 ml-2">[WARN]</span>
                        <span class="text-cyan-400 ml-2">[API]</span>
                        <span class="text-white ml-2">OpenAI API response time high: 3.2s (threshold: 2.0s)</span>
                    </div>
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:25]</span>
                        <span class="text-green-400 ml-2">[INFO]</span>
                        <span class="text-purple-400 ml-2">[NEWS]</span>
                        <span class="text-white ml-2">Duplicate news article filtered: title hash match found</span>
                    </div>
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:22]</span>
                        <span class="text-red-400 ml-2">[ERROR]</span>
                        <span class="text-purple-400 ml-2">[NEWS]</span>
                        <span class="text-white ml-2">Failed to fetch RSS from source: khan.co.kr (HTTP 503)</span>
                    </div>
                    <div class="flex">
                        <span class="text-blue-400">[2024-01-15 14:23:20]</span>
                        <span class="text-green-400 ml-2">[INFO]</span>
                        <span class="text-yellow-400 ml-2">[WEB]</span>
                        <span class="text-white ml-2">Static file served: /css/main.css (200 OK, 45.2KB, 12ms)</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 로그 통계 사이드바 -->
        <div class="bg-white rounded-lg shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">실시간 통계</h3>
            
            <div class="space-y-4">
                <div class="bg-green-50 p-3 rounded-lg">
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-green-700">INFO</span>
                        <span class="text-sm font-bold text-green-900">94.6%</span>
                    </div>
                    <div class="mt-1 w-full bg-green-200 rounded-full h-2">
                        <div class="bg-green-500 h-2 rounded-full" style="width: 94.6%"></div>
                    </div>
                </div>
                
                <div class="bg-yellow-50 p-3 rounded-lg">
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-yellow-700">WARNING</span>
                        <span class="text-sm font-bold text-yellow-900">4.8%</span>
                    </div>
                    <div class="mt-1 w-full bg-yellow-200 rounded-full h-2">
                        <div class="bg-yellow-500 h-2 rounded-full" style="width: 4.8%"></div>
                    </div>
                </div>
                
                <div class="bg-red-50 p-3 rounded-lg">
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-red-700">ERROR</span>
                        <span class="text-sm font-bold text-red-900">0.5%</span>
                    </div>
                    <div class="mt-1 w-full bg-red-200 rounded-full h-2">
                        <div class="bg-red-500 h-2 rounded-full" style="width: 0.5%"></div>
                    </div>
                </div>
                
                <div class="bg-blue-50 p-3 rounded-lg">
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-blue-700">DEBUG</span>
                        <span class="text-sm font-bold text-blue-900">0.1%</span>
                    </div>
                    <div class="mt-1 w-full bg-blue-200 rounded-full h-2">
                        <div class="bg-blue-500 h-2 rounded-full" style="width: 0.1%"></div>
                    </div>
                </div>
            </div>
            
            <div class="mt-6 border-t pt-4">
                <h4 class="font-medium text-gray-800 mb-2">시스템별 로그</h4>
                <div class="space-y-2 text-sm">
                    <div class="flex justify-between">
                        <span class="text-gray-600">웹 서버</span>
                        <span class="font-medium">8,247</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-600">API 서버</span>
                        <span class="font-medium">6,892</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-600">뉴스 수집</span>
                        <span class="font-medium">4,567</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-600">AI 처리</span>
                        <span class="font-medium">3,234</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-600">데이터베이스</span>
                        <span class="font-medium">1,627</span>
                    </div>
                </div>
            </div>
            
            <div class="mt-6 border-t pt-4">
                <h4 class="font-medium text-gray-800 mb-2">최근 알림</h4>
                <div class="space-y-2">
                    <div class="p-2 bg-red-50 rounded text-xs">
                        <div class="text-red-800 font-medium">DB 연결 오류</div>
                        <div class="text-red-600">2분 전</div>
                    </div>
                    <div class="p-2 bg-yellow-50 rounded text-xs">
                        <div class="text-yellow-800 font-medium">API 응답 지연</div>
                        <div class="text-yellow-600">5분 전</div>
                    </div>
                    <div class="p-2 bg-blue-50 rounded text-xs">
                        <div class="text-blue-800 font-medium">뉴스 수집 완료</div>
                        <div class="text-blue-600">8분 전</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 로그 분석 및 관리 -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- 로그 보관 설정 -->
        <div class="bg-white rounded-lg shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">로그 보관 설정</h3>
            <div class="space-y-4">
                <div>
                    <label class="form-label">로그 보관 기간</label>
                    <select class="form-select">
                        <option value="30">30일</option>
                        <option value="90" selected>90일</option>
                        <option value="180">180일</option>
                        <option value="365">1년</option>
                    </select>
                </div>
                
                <div>
                    <label class="form-label">로그 압축</label>
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-gray-600">7일 이후 자동 압축</span>
                        <button class="bg-green-500 relative inline-flex h-6 w-11 items-center rounded-full">
                            <span class="translate-x-6 inline-block h-4 w-4 transform rounded-full bg-white transition"></span>
                        </button>
                    </div>
                </div>
                
                <div>
                    <label class="form-label">로그 레벨별 설정</label>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">ERROR 로그</span>
                            <span class="text-sm text-red-600">1년 보관</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">WARNING 로그</span>
                            <span class="text-sm text-yellow-600">6개월 보관</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">INFO 로그</span>
                            <span class="text-sm text-blue-600">90일 보관</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">DEBUG 로그</span>
                            <span class="text-sm text-gray-600">7일 보관</span>
                        </div>
                    </div>
                </div>
                
                <div class="border-t pt-4">
                    <div class="grid grid-cols-2 gap-2">
                        <button class="btn-secondary text-sm">설정 저장</button>
                        <button class="btn-secondary text-sm" onclick="cleanupOldLogs()">오래된 로그 정리</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 로그 알림 설정 -->
        <div class="bg-white rounded-lg shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">로그 알림 설정</h3>
            <div class="space-y-4">
                <div>
                    <label class="form-label">알림 임계값</label>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">ERROR 로그</span>
                            <div class="flex items-center space-x-2">
                                <input type="number" class="form-input w-16 text-sm" value="5">
                                <span class="text-sm text-gray-500">건/분</span>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">WARNING 로그</span>
                            <div class="flex items-center space-x-2">
                                <input type="number" class="form-input w-16 text-sm" value="50">
                                <span class="text-sm text-gray-500">건/분</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <label class="form-label">알림 방법</label>
                    <div class="space-y-2">
                        <label class="flex items-center">
                            <input type="checkbox" class="mr-2" checked> 이메일 알림
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="mr-2" checked> 슬랙 알림
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="mr-2"> SMS 알림
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="mr-2" checked> 대시보드 알림
                        </label>
                    </div>
                </div>
                
                <div>
                    <label class="form-label">알림 수신자</label>
                    <div class="space-y-1">
                        <div class="flex items-center justify-between text-sm bg-gray-50 p-2 rounded">
                            <span>admin@factlab.com</span>
                            <button class="text-red-600 hover:text-red-800">제거</button>
                        </div>
                        <div class="flex items-center justify-between text-sm bg-gray-50 p-2 rounded">
                            <span>dev@factlab.com</span>
                            <button class="text-red-600 hover:text-red-800">제거</button>
                        </div>
                        <div class="flex">
                            <input type="email" class="form-input rounded-r-none" placeholder="이메일 주소">
                            <button class="btn-primary rounded-l-none">추가</button>
                        </div>
                    </div>
                </div>
                
                <div class="border-t pt-4">
                    <button class="btn-primary w-full">알림 설정 저장</button>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
// 시스템 로그 관련 JavaScript 함수들
let autoRefreshInterval = null;
let autoScroll = true;

function searchLogs() {
    const searchTerm = document.getElementById('logSearch').value;
    const level = document.getElementById('logLevel').value;
    const system = document.getElementById('logSystem').value;
    const startDate = document.getElementById('startDate').value;
    const endDate = document.getElementById('endDate').value;
    
    showNotification('로그를 검색하고 있습니다...', 'info');
    
    // 검색 로직 시뮬레이션
    setTimeout(() => {
        showNotification(`검색 조건에 맞는 로그를 찾았습니다.`, 'success');
        // 로그 뷰어 업데이트
        updateLogViewer();
    }, 1500);
}

function clearFilters() {
    document.getElementById('logSearch').value = '';
    document.getElementById('logLevel').value = '';
    document.getElementById('logSystem').value = '';
    document.getElementById('startDate').value = new Date().toISOString().split('T')[0];
    document.getElementById('endDate').value = new Date().toISOString().split('T')[0];
    
    showNotification('필터가 초기화되었습니다.', 'info');
    updateLogViewer();
}

function exportLogs() {
    showNotification('로그 파일을 준비하고 있습니다...', 'info');
    
    setTimeout(() => {
        const logData = generateLogExport();
        downloadFile(logData, `factlab-logs-${new Date().toISOString().split('T')[0]}.txt`);
        showNotification('로그 파일이 다운로드되었습니다.', 'success');
    }, 2000);
}

function refreshLogs() {
    showNotification('로그를 새로고침하고 있습니다...', 'info');
    updateLogViewer();
    updateLogStats();
}

function cleanupOldLogs() {
    if (confirm('90일 이전의 로그를 정리하시겠습니까? 이 작업은 되돌릴 수 없습니다.')) {
        showNotification('오래된 로그를 정리하고 있습니다...', 'info');
        
        setTimeout(() => {
            showNotification('오래된 로그 정리가 완료되었습니다. 12.3GB의 공간이 확보되었습니다.', 'success');
        }, 5000);
    }
}

function updateLogViewer() {
    const logViewer = document.getElementById('logViewer');
    if (!logViewer) return;
    
    // 새 로그 항목 추가 시뮬레이션
    const newLogEntry = createRandomLogEntry();
    const logContainer = logViewer.querySelector('.space-y-1');
    
    // 새 로그를 상단에 추가
    logContainer.insertAdjacentHTML('afterbegin', newLogEntry);
    
    // 최대 100개 로그만 유지
    const entries = logContainer.children;
    if (entries.length > 100) {
        logContainer.removeChild(entries[entries.length - 1]);
    }
    
    // 자동 스크롤이 활성화되어 있으면 맨 위로 스크롤
    if (autoScroll) {
        logViewer.scrollTop = 0;
    }
}

function createRandomLogEntry() {
    const levels = ['INFO', 'WARN', 'ERROR', 'DEBUG'];
    const systems = ['WEB', 'API', 'DB', 'NEWS', 'AI'];
    const levelColors = {
        'INFO': 'text-green-400',
        'WARN': 'text-yellow-400',
        'ERROR': 'text-red-400',
        'DEBUG': 'text-blue-400'
    };
    const systemColors = {
        'WEB': 'text-yellow-400',
        'API': 'text-cyan-400',
        'DB': 'text-pink-400',
        'NEWS': 'text-purple-400',
        'AI': 'text-orange-400'
    };
    
    const level = levels[Math.floor(Math.random() * levels.length)];
    const system = systems[Math.floor(Math.random() * systems.length)];
    const timestamp = new Date().toISOString().replace('T', ' ').split('.')[0];
    
    const messages = [
        'User authentication successful',
        'News article processed successfully',
        'API request rate limit exceeded',
        'Database query completed',
        'AI summary generation started',
        'Cache miss for static resource',
        'WebSocket connection established',
        'Email notification sent',
        'File upload completed',
        'Background job queued'
    ];
    
    const message = messages[Math.floor(Math.random() * messages.length)];
    
    return `
        <div class="flex">
            <span class="text-blue-400">[${timestamp}]</span>
            <span class="${levelColors[level]} ml-2">[${level}]</span>
            <span class="${systemColors[system]} ml-2">[${system}]</span>
            <span class="text-white ml-2">${message}</span>
        </div>
    `;
}

function updateLogStats() {
    // 통계 업데이트 시뮬레이션
    const todayLogs = document.getElementById('todayLogs');
    if (todayLogs) {
        const current = parseInt(todayLogs.textContent.replace(',', ''));
        todayLogs.textContent = (current + Math.floor(Math.random() * 50)).toLocaleString();
    }
}

function generateLogExport() {
    const currentDate = new Date().toISOString();
    return `FactLab System Logs Export
Generated: ${currentDate}
Filter: All levels, All systems
Period: Last 24 hours

==================================================

[2024-01-15 14:23:45] [INFO] [WEB] User login successful - user_id: 12847
[2024-01-15 14:23:42] [INFO] [NEWS] News collection completed - 47 articles collected from Naver
[2024-01-15 14:23:38] [WARN] [API] Rate limit approaching for client IP: 192.168.1.100 (85% of limit)
[2024-01-15 14:23:35] [INFO] [AI] AI summary generated for article ID: 15847 in 1.2s
[2024-01-15 14:23:33] [ERROR] [DB] Connection timeout to database slave server (timeout: 30s)
[2024-01-15 14:23:30] [INFO] [WEB] New board created: "환경 이슈 토론장" by user_id: 3456
[2024-01-15 14:23:28] [WARN] [API] OpenAI API response time high: 3.2s (threshold: 2.0s)
[2024-01-15 14:23:25] [INFO] [NEWS] Duplicate news article filtered: title hash match found
[2024-01-15 14:23:22] [ERROR] [NEWS] Failed to fetch RSS from source: khan.co.kr (HTTP 503)
[2024-01-15 14:23:20] [INFO] [WEB] Static file served: /css/main.css (200 OK, 45.2KB, 12ms)

==================================================
Total entries: 24,567
INFO: 23,245 (94.6%)
WARNING: 1,189 (4.8%)
ERROR: 133 (0.5%)
DEBUG: 0 (0.0%)`;
}

function downloadFile(content, filename) {
    const blob = new Blob([content], { type: 'text/plain' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = filename;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    window.URL.revokeObjectURL(url);
}

// 실시간 업데이트 설정
function setupAutoRefresh() {
    const autoRefreshCheckbox = document.getElementById('autoRefresh');
    
    if (autoRefreshCheckbox && autoRefreshCheckbox.checked) {
        autoRefreshInterval = setInterval(() => {
            updateLogViewer();
            updateLogStats();
        }, 3000); // 3초마다 업데이트
    }
    
    if (autoRefreshCheckbox) {
        autoRefreshCheckbox.addEventListener('change', function() {
            if (this.checked) {
                setupAutoRefresh();
            } else {
                if (autoRefreshInterval) {
                    clearInterval(autoRefreshInterval);
                    autoRefreshInterval = null;
                }
            }
        });
    }
}

// 페이지 로드 시 초기화
document.addEventListener('DOMContentLoaded', function() {
    setupAutoRefresh();
    
    // 검색 입력 시 실시간 필터링
    const searchInput = document.getElementById('logSearch');
    if (searchInput) {
        searchInput.addEventListener('input', debounce(function() {
            if (this.value.length > 2) {
                searchLogs();
            }
        }, 500));
    }
    
    // 로그 뷰어 스크롤 이벤트
    const logViewer = document.getElementById('logViewer');
    if (logViewer) {
        logViewer.addEventListener('scroll', function() {
            // 사용자가 수동으로 스크롤하면 자동 스크롤 비활성화
            if (this.scrollTop !== 0) {
                autoScroll = false;
            } else {
                autoScroll = true;
            }
        });
    }
});

// 유틸리티 함수
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// 페이지를 벗어날 때 인터벌 정리
window.addEventListener('beforeunload', function() {
    if (autoRefreshInterval) {
        clearInterval(autoRefreshInterval);
    }
});
</script><!-- 시스템 로그 페이지 -->
<main class="p-6 ml-64">
    <!-- 페이지 헤더 -->
    <div class="mb-8">
        <h1 class="text-2xl font-bold text-gray-900">시스템 로그</h1>
        <p class="text-gray-600 mt-2">시스템 활동 로그 및 오류 추적 관리</p>
    </div>

    <!-- 로그 통계 -->
    <div class="