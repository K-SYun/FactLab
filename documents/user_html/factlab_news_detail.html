<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 기술 발전으로 일자리 30% 감소 예상 - FactLab</title>
    <link rel="stylesheet" href="Common.css">
    <link rel="stylesheet" href="News.css">
    <style>
        /* news_detail.html 전용 스타일 */
        /* Common.css와 News.css에 없는, 이 페이지에서만 사용되는 스타일 정의 */

        .news-detail-container {
            display: flex;
            gap: 20px;
            margin-top: 20px; /* 헤더 아래 여백 */
        }

        .news-detail-main-content {
            flex: 2; /* 메인 콘텐츠 영역 */
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 0.375rem; /* rounded-md */
            overflow: hidden; /* 내부 요소의 둥근 모서리 유지 */
        }

        .news-detail-sidebar {
            flex: 1; /* 사이드바 영역 */
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 0.375rem; /* rounded-md */
            overflow: hidden; /* 내부 요소의 둥근 모서리 유지 */
        }

        .news-detail-header-section {
            padding: 15px;
            border-bottom: 1px solid #ddd;
            background-color: #f8f8f8;
        }

        .news-detail-source {
            font-size: 10px;
            color: #666;
            background-color: #e0e0e0;
            padding: 2px 6px;
            border-radius: 3px;
            display: inline-block;
            margin-bottom: 8px;
        }

        .news-detail-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .news-detail-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
            color: #666;
        }

        .news-detail-content-body {
            padding: 20px;
        }

        .news-detail-voting-section {
            padding: 20px;
            background-color: #fafafa;
            border-bottom: 1px solid #ddd;
            border-radius: 0.375rem; /* rounded-md */
        }

        .news-detail-voting-title {
            font-size: 13px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .news-detail-vote-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .news-detail-vote-option {
            padding: 12px;
            border: 2px solid #ddd;
            background-color: white;
            text-align: center;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
            border-radius: 0.375rem; /* rounded-md */
        }

        .news-detail-vote-option:hover {
            background-color: #f0f0f0;
        }

        .news-detail-vote-option.selected {
            border-color: #0066cc;
            background-color: #e6f3ff;
            color: #0066cc;
            font-weight: bold;
        }

        .news-detail-vote-option.fact { border-color: #009900; color: #009900; }
        .news-detail-vote-option.doubt { border-color: #cc0000; color: #cc0000; }
        .news-detail-vote-option.partial { border-color: #ff6600; color: #ff6600; }
        .news-detail-vote-option.need-info { border-color: #6666cc; color: #6666cc; }

        .news-detail-navigation {
            padding: 15px;
            border-top: 1px solid #ddd;
            background-color: #fafafa;
            text-align: center;
            margin-top: 15px;
            border-radius: 0.375rem; /* rounded-md */
        }

        /* 반응형 */
        @media (max-width: 768px) {
            .news-detail-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .news-detail-main-content,
            .news-detail-sidebar {
                flex: none;
                width: 100%;
            }
            
            .news-detail-vote-options {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .news-detail-meta {
                flex-direction: column;
                gap: 5px;
                align-items: flex-start;
            }

            .news-detail-header-section,
            .news-detail-content-body,
            .news-detail-voting-section,
            .news-detail-navigation {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="news-header">
        <div class="news-header-content news-container">
            <a href="factlab_main.html" class="news-logo">FactLab</a>
            <nav class="news-nav-menu">
                <ul>
                    <li><a href="factlab_main.html">홈</a></li>
                    <li><a href="factlab_board_list.html">게시판</a></li>
                    <li><a href="factlab_news_feed.html" class="active">뉴스</a></li>
                    <li><a href="factlab_about.html">소개</a></li>
                    <li><a href="factlab_login.html">로그인</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Container -->
    <div class="news-container news-detail-container">
        <!-- Left Column: Main Content -->
        <div class="news-detail-main-content">
            <!-- News Header -->
            <div class="news-detail-header-section">
                <div class="news-detail-source">테크뉴스</div>
                <h1 class="news-detail-title">AI 기술 발전으로 일자리 30% 감소 예상</h1>
                <div class="news-detail-meta">
                    <div>2024-07-09 12:30 | 조회 1,234</div>
                    <div>
                        <a href="https://example.com/original-news" class="news-detail-original-link" target="_blank">
                            원문 보기 →
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- News Content -->
            <div class="news-detail-content-body">
                <!-- Original Content -->
                <div class="news-detail-content-section">
                    <div class="news-detail-section-title">📰 원문 내용</div>
                    <div class="news-detail-original-content">
                        최신 연구에 따르면 향후 10년 내 AI 기술 발전으로 인해 전체 일자리의 30%가 사라질 것으로 예상된다고 발표했습니다. 
                        특히 단순 반복 업무와 데이터 분석 분야의 타격이 클 것으로 전망되며, 금융, 제조업, 고객서비스 등 다양한 산업에서 
                        AI가 인간의 역할을 대체할 것으로 보입니다.<br><br>
                        
                        연구를 주도한 미래기술연구소의 김박사는 "AI 기술의 급속한 발전으로 인해 기존 일자리 구조가 크게 변화할 것"이라며 
                        "하지만 동시에 AI 관련 새로운 직종들도 창출될 것"이라고 설명했습니다.<br><br>
                        
                        특히 생산성 향상과 비용 절감을 위해 AI 도입을 검토하는 기업들이 증가하고 있으며, 
                        정부도 AI 시대에 대비한 재교육 프로그램을 확대할 계획이라고 밝혔습니다.
                    </div>
                </div>
                
                <!-- AI Summary -->
                <div class="news-detail-content-section">
                    <div class="news-detail-section-title">🤖 AI 요약 및 핵심 주장</div>
                    <div class="news-detail-summary-content">
                        <strong>핵심 주장:</strong> AI 기술 발전으로 향후 10년 내 전체 일자리의 30%가 사라질 것<br><br>
                        
                        <strong>주요 근거:</strong><br>
                        • 단순 반복 업무와 데이터 분석 분야의 AI 대체<br>
                        • 금융, 제조업, 고객서비스 등 다양한 산업 영향<br>
                        • 기업들의 생산성 향상 및 비용 절감 목적의 AI 도입 증가<br><br>
                        
                        <strong>의심 포인트:</strong><br>
                        • 30%라는 구체적 수치의 근거 부족<br>
                        • 새로운 일자리 창출에 대한 정량적 분석 미흡<br>
                        • 연구 방법론과 표본에 대한 상세 정보 부재
                    </div>
                </div>
                
                <!-- Fact Check Question -->
                <div class="news-detail-content-section">
                    <div class="news-detail-fact-question">
                        🤔 이 뉴스 사실일까요? AI로 인한 일자리 감소율이 정말 30%나 될까요?
                    </div>
                </div>
            </div>
            
            <!-- Voting Section -->
            <div class="news-detail-voting-section">
                <div class="news-detail-voting-title">💭 여러분의 의견을 들려주세요</div>
                
                <div class="news-detail-vote-options">
                    <div class="news-detail-vote-option fact" data-vote="fact" onclick="handleVote(this, 'fact')">
                        ✅ 사실이다<br>
                        <small>AI 발전으로 대량 실업 가능</small>
                    </div>
                    <div class="news-detail-vote-option doubt" data-vote="doubt" onclick="handleVote(this, 'doubt')">
                        ❌ 의심스럽다<br>
                        <small>수치가 과장되었을 수 있음</small>
                    </div>
                    <div class="news-detail-vote-option partial" data-vote="partial" onclick="handleVote(this, 'partial')">
                        ⚠️ 부분적으로 사실<br>
                        <small>일부 분야에서만 해당</small>
                    </div>
                    <div class="news-detail-vote-option need-info" data-vote="need-info" onclick="handleVote(this, 'need-info')">
                        ❓ 정보가 부족하다<br>
                        <small>더 많은 데이터 필요</small>
                    </div>
                </div>
                
                <div class="news-vote-results">
                    <div class="news-result-item">
                        <span>✅ 사실이다</span>
                        <div class="news-result-bar-container">
                            <div class="news-result-bar news-result-fact" style="width: 53%;"></div>
                        </div>
                        <span>89표 (53%)</span>
                    </div>
                    <div class="news-result-item">
                        <span>❌ 의심스럽다</span>
                        <div class="news-result-bar-container">
                            <div class="news-result-bar news-result-doubt" style="width: 14%;"></div>
                        </div>
                        <span>23표 (14%)</span>
                    </div>
                    <div class="news-result-item">
                        <span>⚠️ 부분적으로 사실</span>
                        <div class="news-result-bar-container">
                            <div class="news-result-bar news-result-partial" style="width: 27%;"></div>
                        </div>
                        <span>45표 (27%)</span>
                    </div>
                    <div class="news-result-item">
                        <span>❓ 정보가 부족하다</span>
                        <div class="news-result-bar-container">
                            <div class="news-result-bar news-result-need-info" style="width: 6%;"></div>
                        </div>
                        <span>12표 (6%)</span>
                    </div>
                </div>
            </div>
            
            <!-- Fact Check Info -->
            <div class="news-factcheck-info">
                <div class="news-factcheck-title">📋 팩트체크 기관 정보</div>
                <div class="news-factcheck-item">
                    <div class="news-factcheck-source">SNU 팩트체크센터</div>
                    <div>AI 일자리 대체에 관한 기존 연구들의 예측치가 5~40%로 다양하여 30% 수치의 정확성 검토 필요</div>
                </div>
                <div class="news-factcheck-item">
                    <div class="news-factcheck-source">뉴스톱</div>
                    <div>해당 연구의 방법론과 표본 크기에 대한 상세 정보가 공개되지 않아 신뢰성 판단 어려움</div>
                </div>
            </div>
            
            <!-- Share Section -->
            <div class="news-share-section">
                <div class="news-share-title">🔗 이 뉴스 공유하기</div>
                <div class="news-share-buttons">
                    <button class="news-btn" onclick="shareToBoard()">게시판에 공유</button>
                    <button class="news-btn" onclick="copyLink()">링크 복사</button>
                    <button class="news-btn" onclick="reportNews()">신고하기</button>
                </div>
            </div>
        </div>
        
        <!-- Right Column: Comments -->
        <div class="news-detail-sidebar news-sidebar">
            <div class="news-comments-section">
                <div class="news-comments-header">💬 토론 및 댓글 (67개)</div>
                
                <!-- Comment Write -->
                <div class="news-comment-write">
                    <textarea class="news-comment-textarea" placeholder="이 뉴스에 대한 의견을 남겨주세요..."></textarea>
                    <div class="news-comment-submit">
                        <button class="news-btn news-btn-primary" onclick="submitComment()">댓글 작성</button>
                    </div>
                </div>
                
                <!-- Comments List -->
                <div class="news-comment-item">
                    <div class="news-comment-header">
                        <span class="news-comment-author">AI전문가</span>
                        <span class="news-comment-date">2024-07-09 15:30</span>
                    </div>
                    <div class="news-comment-content">
                        30%라는 수치는 좀 과장된 것 같습니다. 실제로는 일자리가 사라지는 것보다는 업무 방식이 변화하는 경우가 더 많을 것 같아요. 
                        역사적으로도 새로운 기술이 도입될 때마다 비슷한 우려가 있었지만, 결국 새로운 형태의 일자리가 창출되곤 했죠.
                    </div>
                    <div class="news-comment-actions">
                        <a href="#" onclick="likeComment(1)">👍 12</a>
                        <a href="#" onclick="replyComment(1)">답글</a>
                        <a href="#" onclick="reportComment(1)">신고</a>
                    </div>
                </div>
                
                <div class="news-comment-item">
                    <div class="news-comment-header">
                        <span class="news-comment-author">경제학자</span>
                        <span class="news-comment-date">2024-07-09 16:15</span>
                    </div>
                    <div class="news-comment-content">
                        연구 방법론이 명확하지 않은 점이 문제네요. 어떤 기준으로 30%를 산출했는지, 어떤 산업을 대상으로 했는지 등이 불분명합니다. 
                        좀 더 구체적인 데이터와 근거가 필요할 것 같습니다.
                    </div>
                    <div class="news-comment-actions">
                        <a href="#" onclick="likeComment(2)">👍 8</a>
                        <a href="#" onclick="replyComment(2)">답글</a>
                        <a href="#" onclick="reportComment(2)">신고</a>
                    </div>
                </div>
                
                <div class="news-comment-item">
                    <div class="news-comment-header">
                        <span class="news-comment-author">일반시민</span>
                        <span class="news-comment-date">2024-07-09 17:20</span>
                    </div>
                    <div class="news-comment-content">
                        솔직히 이미 많은 업무가 자동화되고 있는 것 같아요. 특히 단순 업무는 정말 AI가 대체할 수 있을 것 같습니다. 
                        다만 30%는 너무 높은 것 같고, 점진적으로 변화할 것 같아요.
                    </div>
                    <div class="news-comment-actions">
                        <a href="#" onclick="likeComment(3)">👍 5</a>
                        <a href="#" onclick="replyComment(3)">답글</a>
                        <a href="#" onclick="reportComment(3)">신고</a>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 15px;">
                    <button class="news-btn" onclick="loadMoreComments()">댓글 더보기 (64개 남음)</button>
                </div>
            </div>
            
            <!-- Navigation -->
            <div class="news-detail-navigation">
                <a href="factlab_news_feed.html" class="news-btn">뉴스 목록</a>
                <a href="factlab_board_list.html" class="news-btn">게시판</a>
            </div>
        </div>
    </div>

    <script>
        let hasVoted = false;
        
        // 투표 기능
        function handleVote(button, voteType) {
            if (hasVoted) {
                console.log('이미 투표하셨습니다.'); // alert 대신 console.log
                return;
            }
            
            const votingArea = button.closest('.news-detail-vote-options');
            
            // 모든 투표 버튼의 'selected' 클래스 제거
            votingArea.querySelectorAll('.news-detail-vote-option').forEach(opt => {
                opt.classList.remove('selected');
            });

            // 클릭된 버튼에 'selected' 클래스 추가
            button.classList.add('selected');
            hasVoted = true;
            
            // 다른 옵션들 비활성화 (시각적 효과)
            votingArea.querySelectorAll('.news-detail-vote-option').forEach(opt => {
                if (!opt.classList.contains('selected')) {
                    opt.style.opacity = '0.6';
                    opt.style.cursor = 'not-allowed';
                }
            });
            
            console.log('투표가 완료되었습니다!'); // alert 대신 console.log
            console.log(`${voteType}에 투표`);

            // 실제 투표 수 업데이트 로직 (예시)
            const resultItem = document.querySelector(`.news-result-item span:first-child[data-vote-type="${voteType}"]`).closest('.news-result-item');
            if (resultItem) {
                let currentVotes = parseInt(resultItem.querySelector('span:last-child').textContent.match(/\d+/)[0]);
                currentVotes++;
                resultItem.querySelector('span:last-child').textContent = `${currentVotes}표`; // %는 updateVoteResults에서 다시 계산
            }
            updateVoteResults(); // 투표 결과 바 업데이트
        }
        
        // 투표 결과 바 업데이트 함수
        function updateVoteResults() {
            const voteOptions = document.querySelectorAll('.news-detail-vote-option');
            let totalVotes = 0;
            const votes = {};

            // 각 투표 옵션의 현재 투표 수 가져오기
            voteOptions.forEach(btn => {
                const voteType = btn.dataset.vote;
                // 실제 투표 수는 결과 바에서 가져오는 것이 더 정확할 수 있음.
                // 여기서는 시뮬레이션을 위해 하드코딩된 값을 사용하거나, 실제 투표 로직에서 업데이트된 값을 가져와야 함.
                // 현재 HTML에 있는 텍스트에서 파싱하는 방식으로 임시 구현
                const resultText = document.querySelector(`.news-result-item span:first-child[data-vote-type="${voteType}"]`).closest('.news-result-item').querySelector('span:last-child').textContent;
                const count = parseInt(resultText.match(/\d+/)[0]);
                votes[voteType] = count;
                totalVotes += count;
            });

            const resultItems = document.querySelectorAll('.news-result-item');
            resultItems.forEach(item => {
                const voteType = item.querySelector('span:first-child').dataset.voteType; // data-vote-type 속성 사용
                const percentage = totalVotes === 0 ? 0 : (votes[voteType] / totalVotes) * 100;
                const bar = item.querySelector('.news-result-bar');
                const percentSpan = item.querySelector('span:last-child');

                bar.style.width = `${percentage.toFixed(1)}%`;
                percentSpan.textContent = `${votes[voteType]}표 (${percentage.toFixed(1)}%)`;
            });
        }

        // 페이지 로드 시 초기 투표 결과 업데이트
        document.addEventListener('DOMContentLoaded', function() {
            // 초기 HTML에 있는 투표 결과 텍스트에서 data-vote-type을 추가하여 JS가 참조할 수 있도록 함
            document.querySelector('.news-result-item:nth-child(1) span:first-child').dataset.voteType = 'fact';
            document.querySelector('.news-result-item:nth-child(2) span:first-child').dataset.voteType = 'doubt';
            document.querySelector('.news-result-item:nth-child(3) span:first-child').dataset.voteType = 'partial';
            document.querySelector('.news-result-item:nth-child(4) span:first-child').dataset.voteType = 'need-info';
            updateVoteResults();
        });


        // 게시판에 공유
        function shareToBoard() {
            window.location.href = 'factlab_board_write.html?share_news=1';
            console.log('게시판에 공유');
        }
        
        // 링크 복사
        function copyLink() {
            document.execCommand('copy'); // navigator.clipboard.writeText() 대신 사용
            console.log('링크가 복사되었습니다.');
        }
        
        // 뉴스 신고
        function reportNews() {
            if (confirm('이 뉴스를 신고하시겠습니까?')) { // confirm은 유지
                console.log('신고가 접수되었습니다.'); // alert 대신 console.log
            }
        }
        
        // 댓글 작성
        function submitComment() {
            const textarea = document.querySelector('.news-comment-textarea');
            const content = textarea.value.trim();
            
            if (!content) {
                console.log('댓글 내용을 입력하세요.'); // alert 대신 console.log
                return;
            }
            
            console.log('댓글이 작성되었습니다.'); // alert 대신 console.log
            textarea.value = '';
        }
        
        // 댓글 좋아요
        function likeComment(id) {
            event.preventDefault();
            const link = event.target;
            const currentCount = parseInt(link.textContent.match(/\d+/)[0]);
            link.textContent = `👍 ${currentCount + 1}`;
            console.log(`댓글 ${id} 좋아요`);
        }
        
        // 댓글 답글
        function replyComment(id) {
            event.preventDefault();
            const content = prompt('답글을 입력하세요:'); // prompt는 유지
            if (content) {
                console.log('답글이 등록되었습니다.'); // alert 대신 console.log
            }
        }
        
        // 댓글 신고
        function reportComment(id) {
            event.preventDefault();
            if (confirm('이 댓글을 신고하시겠습니까?')) { // confirm은 유지
                console.log('신고가 접수되었습니다.'); // alert 대신 console.log
            }
        }
        
        // 댓글 더보기
        function loadMoreComments() {
            console.log('댓글을 더 불러옵니다.'); // alert 대신 console.log
        }
    </script>
</body>
</html>
